{% extends 'base.html' %}
{% block body_content %}
<div class="container-fluid" style="background-color:white">
    <div class="container h-100 " >
        <div class="row my-auto h-100">
            <div class="my-auto mx-auto p-5">
                <h4 class="text-center mb-5">Choose the right plan for you</h4>
                <div class="row">
            
                <div class="col-md-4" style="margin-top: 40px;">
                    <div>
                        <span class="rounded-pill p-3 secondary_color">
                            <span class="text-white">
                                <a href="/" style="text-decoration: none;" class="text-white">Monthly</a>
                            </span>&nbsp;&nbsp;
                            <span class="rounded-pill bg-light p-2 secondary_font_color">Yearly</span>
                        </span>
                    </div>
                </div>
                {% for ptype in plan_types %}
                <div class="col-md-2">
                    <div class="text-center text-white">
                        <div class="ptype{{forloop.counter}}" style="height:150px; width:150px; display:inline-block; padding-top:68px; background-color:rgb(121, 147, 189) !important">
                            {{ptype}}
                        </div>
                    </div>
                    <div >
                        <div class="mx-auto ttype{{forloop.counter}}" style="width: 0; height: 0; border-left: 20px solid transparent;border-right: 20px solid transparent;border-top: 20px solid rgb(255,255,255);"></div>
                    
                    </div>
                    
                </div>
                {% endfor %}
            </div>

            <div class="row mt-4">
                <div class="col-md-4">
                    <div style="font-weight:500;">
                        Monthly Price
                    </div>
                </div>
                {% for price in yearlyPrices %}
                    <div class="col-md-2 text-center text{{forloop.counter}}" style="color:rgb(86,85,85)">
                        <div style="font-weight: 700;">
                            â‚¹ {{price}}
                        </div>
                    </div>
                {% endfor %}
            </div>
            <hr>

            <div class="row mt-1">
                <div class="col-md-4">
                    <div style="font-weight:500;">
                        Video Quality
                    </div>
                </div>
                {% for quality in video_qualities %}
                    <div class="col-md-2 text-center text{{forloop.counter}}" style="color:rgb(86,85,85)">
                        <div style="font-weight: 700;">
                            {{quality}}
                        </div>
                    </div>
                {% endfor %}
            </div>
            <hr>

            <div class="row mt-1">
                <div class="col-md-4">
                    <div style="font-weight:500;">
                        Resolution
                    </div>
                </div>
                {% for resolution in resolutions %}
                    <div class="col-md-2 text-center text{{forloop.counter}}" style="color:rgb(86,85,85)">
                        <div style="font-weight: 700;">
                            {{resolution}}
                        </div>
                    </div>
                {% endfor %}
            </div>
            <hr>

            <div class="row mt-1">
                <div class="col-md-4">
                    <div style="font-weight:500;">
                        Devices you can use to watch
                    </div>
                </div>
                {% for device_list in devices %}
                    <div class="col-md-2 text-center text{{forloop.counter}}" style="font-weight: 700;color:rgb(86,85,85)">
                        {% for device in device_list %}
                            <div class="mt-5">{{device}}</div>
                        {% endfor %}
                    </div>
                {% endfor %}
            </div>
            <div class="row mt-5">
                <div class="col text-center">
                    <button class="btn text-white" id="nextButton" style="background-color: rgb(31, 76, 145);width:400px;height:50px">Next</button>
                </div>
            </div>
        </div>
    </div>
 </div>
{% endblock %}
{% block custom_javascripts %}
<script>
$(document).ready(function(){
  var selected = "Mobile"
  var containers = document.getElementsByClassName('text1');
  for (element of containers){
    element.style.color = "rgb(31, 76, 145)";
  }
  var planTypeTriangle = document.getElementsByClassName('ttype1');
  planTypeTriangle[0].style.borderTop = "20px solid rgb(31, 76, 145)";
  var planType = document.getElementsByClassName('ptype1');
  planType[0].style.backgroundColor = "rgb(31, 76, 145)";
  function resetColor(){
    var containers = document.getElementsByClassName('text1');
    for (element of containers){
        element.style.color = "rgb(86,85,85)";
    }
    var containers = document.getElementsByClassName('text2');
    for (element of containers){
        element.style.color = "rgb(86,85,85)";
    }
    var containers = document.getElementsByClassName('text3');
    for (element of containers){
        element.style.color = "rgb(86,85,85)";
    }
    var containers = document.getElementsByClassName('text4');
    for (element of containers){
        element.style.color = "rgb(86,85,85)";
    }
    var container = document.getElementsByClassName('ptype1');
    container[0].style.backgroundColor = "rgb(121, 147, 189)";
    var container = document.getElementsByClassName('ptype2');
    container[0].style.backgroundColor = "rgb(121, 147, 189)";
    var container = document.getElementsByClassName('ptype3');
    container[0].style.backgroundColor = "rgb(121, 147, 189)";
    var container = document.getElementsByClassName('ptype4');
    container[0].style.backgroundColor = "rgb(121, 147, 189)";
    var container = document.getElementsByClassName('ttype1');
    container[0].style.borderTop = "20px solid rgb(255, 255, 255)";
    var container = document.getElementsByClassName('ttype2');
    container[0].style.borderTop = "20px solid rgb(255, 255, 255)";
    var container = document.getElementsByClassName('ttype3');
    container[0].style.borderTop = "20px solid rgb(255, 255, 255)";
    var container = document.getElementsByClassName('ttype4');
    container[0].style.borderTop = "20px solid rgb(255, 255, 255)";

    console.log(selected)
  }
  function changeColor(num){
    let containers = document.getElementsByClassName('text'+num)
    for (element of containers){
        element.style.color = "rgb(31, 76, 145)";
    }
    var container = document.getElementsByClassName('ptype'+num);
    container[0].style.backgroundColor = "rgb(31, 76, 145)";
    var container = document.getElementsByClassName('ttype'+num);
    container[0].style.borderTop = "20px solid rgb(31, 76, 145)";
  }
  $('.text1').click(function(){
    selected = "Mobile"
    resetColor();
    changeColor(1);
  })
  $('.text2').click(function(){
    selected = "Basic"
    resetColor();
    changeColor(2);
  })
  $('.text3').click(function(){
    selected = "Standard"
    resetColor();
    changeColor(3);
  })
  $('.text4').click(function(){
    selected = "Premium"
    resetColor();
    changeColor(4);
  })
  $('.ptype1').click(function(){
    selected = "Mobile"
    resetColor();
    changeColor(1);
  })
  $('.ptype2').click(function(){
    selected = "Basic"
    resetColor();
    changeColor(2);
  })
  $('.ptype3').click(function(){
    selected = "Standard"
    resetColor();
    changeColor(3);
  })
  $('.ptype4').click(function(){
    selected = "Premium"
    resetColor();
    changeColor(4);
  })
  $('#nextButton').click(function(){
    window.location.href = '/paymentPage/'+selected+'/yearly/'
  })
});
</script>
{% endblock %}